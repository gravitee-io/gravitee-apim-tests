{
	"info": {
		"_postman_id": "107e5e48-313d-4aa4-9072-2593e5e41bab",
		"name": "API Portal : Business Error",
		"description": "This collections contains requests to test business errors (no 401) on the Portal API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "apis",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c609318e-1658-4cd2-8f23-27f9341c79c5",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "cb4007a2-ba35-4820-b31b-16260276f40d",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c6433fb5-d1d4-44ba-8e22-83d3441eade6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "c6dd4cc6-9fea-4196-93fa-56811660c182",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7dea5f3a-5578-48f4-829c-64c69a9316bd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/_search",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "23000b55-7bd3-4051-9e47-add0d3de193e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/_search",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												"_search"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2232aee5-000c-4687-beb9-2b3f49e0a862",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6d15ac74-228d-4377-90fd-07af1feedb99",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create a rating",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "84aaf647-5b97-45ef-8bc8-4db666a8ac9b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_rating_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 title\",\n\t\"comment\":\"400 comment\",\n\t\"rate\": 2\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Rating already exists",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "23a544b0-1e93-47c5-974d-18881f3d2241",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "355eaa10-f583-484b-8562-9d4767553a10",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ff1faa58-89b8-4d20-90f0-1e220f26f46c",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Rating already exists\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Rating already exists for api [\"+pm.environment.get(\"created_api_id\")+\"] and user [\"+pm.environment.get(\"created_api_owner_id\")+\"].\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created Rating",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings/:ratingId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings",
												":ratingId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "ratingId",
													"value": "{{created_rating_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "34415048-cf4b-4e6c-8ee5-85a2588fff8f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2d5f223e-6c0f-4b31-9123-814f97b3ee0a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2d250163-521c-4b35-826e-b91dc0c49719",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "29c0dc6d-4bc6-444e-b733-405b3f19fc61",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "60577c0a-6a2c-4a86-afd5-992224af8570",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e945c150-849f-473c-bbc0-1c2682f5d61d",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1359b74f-6192-4650-9ab0-c7d036e37ec1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "128800c1-fa4a-4b8e-ab4f-4086c629f9dd",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - No permission (User = application1)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e6c1f0b8-dd25-4740-a9db-bae7615fc99d",
												"exec": [
													"pm.test(\"Unsufficient rights\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "093bd4b9-3ea7-4f32-b679-8bb4ada8df2c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8757f4e0-7d97-4b21-b3c7-0960cacb11a3",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "327551df-14ba-41a7-8d6e-62aa910b4192",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "77e05bda-a6b5-4a79-aa0c-4fda4f315eec",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "55af95b8-f34f-4328-b83e-0f2a341ba215",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "2771bebf-5ab5-473a-907f-6e20d248e017",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "789c6073-a396-47c1-b6de-e1cb02a64321",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e52eb967-4577-4125-a616-62cfd98507e6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not found",
							"item": [
								{
									"name": "GET /apis/:apiId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "76644b3f-ccb5-475d-8745-ba617278c825",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/metrics - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "19e30ae1-7fd6-4815-b402-98c04c98b54f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/metrics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"metrics"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "749bd93b-8923-4fe4-8147-aad652a8a03b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "17e06413-e1aa-4577-be6e-ed2e867222bf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId/content - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3d4f7aba-bee3-43e6-89bd-6d820bbcc3ed",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c38fad2c-4065-4798-a443-4beac7fb7a50",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "42adced0-82a3-438d-96aa-fab556428de7",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2d01fee4-1c21-44bf-8280-c0603d29d7f6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/:apiId/rating - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dcac829d-7de0-49de-a04f-9403265cc943",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"404 title\",\n\t\"comment\":\"404 comment\",\n\t\"value\": 4\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/subscribers - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "954510c4-6395-4e80-a3b4-2170b7e9fec3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/subscribers",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscribers"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2766526d-f375-4f56-8a77-c9daaaa63ac1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3f43b425-60f9-4f93-aeda-a7459fd07ee9",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [API] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /apis/:apiId/pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "64fc2f17-2f43-4684-977c-f95dec49522b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c588b519-e465-4d7c-913d-903b18fb9bac",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId/content - Page not found Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "94018374-b317-43d0-8a1a-b14f4f889ca0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "9d53078c-d2d5-4edd-ad1a-c2ec200031c2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2362987e-cbae-4aaf-bd44-8e2248b2b8e1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2f49784b-eaa1-4350-aefc-1e049d843c2a",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not visible for current user - test with a user != admin",
							"item": [
								{
									"name": "GET /apis/:apiId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "63ea3084-464b-47c8-9c8a-e5f15db16ed9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fa90e6e3-afe9-4dfb-a904-069113f0c793",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1c8afd2d-bc18-47c1-b8f9-cca73c9c4c07",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "429162de-be76-4db7-bf00-c7204ebfe5a0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09335cdd-7958-4a1f-acd5-ea47065a9679",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "474e1e1a-2afa-4aea-a60a-49167f8a0d59",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a5532761-6585-4e5b-8393-baff8231c2d1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ff2399ae-8961-42f2-9280-617572627559",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [\"+pm.environment.get(\"created_api_id\")+\"] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "40b9226f-e583-49d9-8bc7-b571362d295d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0bdff8e5-3306-4d6a-8a38-4a24969403f1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6f1d3d00-4314-4c85-89b6-2bd2b4982c0d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c41db740-0583-4cb1-8b7a-3433a0803503",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8f2f501-0838-4954-8516-48a9f3a00eb0",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "12a568d5-6b63-4946-be31-16fbaa8498b2",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2295ccff-a753-44bf-865f-6c688e72d946",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "73db5319-155e-4013-bbca-6387b5e6ac83",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Rating service is disabled",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "605bd875-f2ca-42cc-9fa5-2a777d9bd52f",
												"exec": [
													"pm.test(\"Rating service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"API rating service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "66b739ed-94e5-4651-91bd-82788bf3f261",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "819c2967-b672-41bf-b786-00938f93818e",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 503\", function () {",
											"    pm.response.to.have.status(503);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7eccc674-2814-4c6a-b1bf-bedc637102ab",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ae8fef28-efea-466b-aec0-63c1991e393a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "774cf8da-e905-4a47-b707-46b03f9c0de1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "ceedc0c4-efdf-494d-a5ae-c0541b694595",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "applications",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6608f660-de02-43ae-9f06-91b7b1492161",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Enable client registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\": {\n\t\t\"registration\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create a notification config",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6bb992af-2ad1-45a3-bc71-a8745c6dbe9d",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_generic_config\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"400GenericConfig\",\n\t\"config_type\":\"GENERIC\",\n\t\"referenceId\":\"DEFAULT\",\n\t\"notifier\":\"default-email\",\n\t\"hooks\":[],\n\t\"referenceType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/notificationsettings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"configuration",
												"notificationsettings"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9b132558-e84f-4032-89de-7540a7f7065e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e64ef1ae-615d-4742-83d1-db76d472a611",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "POST /applications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0589fbdd-53fe-469e-a0d5-ddbcd2ec6c2f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5582cdd1-05cc-477c-8b69-5e9153bbb793",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1cf3093c-a652-464b-807e-ecd0cd424130",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "db58a0bc-b81c-47c4-8de9-59fc93762cea",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7f7e5b1b-eba7-4224-982b-dd2cc7b8d314",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c26dd8d6-5463-4295-bebd-1e46ca84b2fb",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5312d8b0-7682-4841-82d2-4b1f1b474427",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "4568e9fc-da37-42ae-86b1-ed016c0e91f4",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'applicationId' is not the same that the application in payload",
							"item": [
								{
									"name": "PUT /applications/:applicationId - 'applicationId' is not the same that the application in payload",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "81b25aea-ec82-4ded-977d-b2296b730cff",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5385fd18-73ec-4646-8364-af51b41a2fb0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "4db14fe7-9406-4d3b-80d2-7636305de026",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"'applicationId' is not the same that the application in payload\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"'applicationId' is not the same that the application in payload\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Client secret for application [404Application] can not be renew.",
							"item": [
								{
									"name": "POST /applications/:applicationId/_renew_secret - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9b475481-74ce-4439-902f-e0d42cb1b208",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a2937edc-7216-4a63-86de-27b296e0b7ad",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "62baacd7-0aba-4e5e-a246-3d58f3668810",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Client secret for application [404Application] can not be renew.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Client secret for application [404Application] can not be renew.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "log query param validation",
							"item": [
								{
									"name": "POST /applications/:applicationId/logs/_export - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8cb9d528-d483-4196-bef2-e4211656f4f8",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export?from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "903552d2-d1da-41df-bc21-f947da969953",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export?to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f337659a-fe14-4fc6-91c1-bfdfab4feaf1",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export?from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - order not valid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d0fdb372-64b9-4dbb-a9af-6b4b7ef84b23",
												"exec": [
													"pm.test(\"'order' query parameter value must be 'ASC' or 'DESC'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'order' query parameter value must be 'ASC' or 'DESC'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export?from=0&to=1&order=ORDER",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "order",
													"value": "ORDER"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0b096a0f-6e3e-4d44-8d62-55f9085d0af0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2794c19c-14fb-482d-a2d6-b5227b8a72d5",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "analytics query param validation",
							"item": [
								{
									"name": "GET /applications/:applicationId/analytics - no type",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c0978bf1-f51b-45e0-b13e-dfb5acca9f28",
												"exec": [
													"pm.test(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics   - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d991c884-bf6e-427b-bee1-634ec6849925",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bca138c0-b54f-48fe-a88a-03f8e623feb9",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GETT /applications/:applicationId/analytics - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "de1da4d1-f6b3-4efd-bd14-58684b874d13",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "02100f6e-c937-4c66-bbf7-f15d37a3833c",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval invalid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "73e9ff50-f804-4352-99a4-4efdb6be6ea9",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=DATE_HISTO&from=0&to=1&interval=100&",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "DATE_HISTO"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "100"
												},
												{
													"key": null,
													"value": null
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - field is missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "309321dc-7f93-44d5-8472-9cf51b3e20a9",
												"exec": [
													"pm.test(\"'field' query parameter is required for 'group_by' request\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'field' query parameter is required for 'group_by' request\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=1000",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "1000"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "13856fea-e2c1-4679-9241-6cd01edb551f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0a8acd46-4ff3-45eb-8af5-fd5abb366c3c",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete notification settings",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/notificationsettings/:notificationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"configuration",
												"notificationsettings",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "{{created_generic_config}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "44128b9f-3860-4bee-8696-63eb2a428133",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0ef196f5-989d-44f5-8d87-a8a658de330f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2c0d6caa-fd40-4695-a60f-eb043d624178",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "60fdce8b-64fa-428d-9367-24c38f8b4852",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "54ffdacb-cbfa-4237-a24f-b19160245e4a",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403Application\",\n\t\"description\":\"Application for Forbidden Access\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "GET USER Environment Role",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "53bc24b3-3077-46d7-bd4d-3a705830e81f",
												"exec": [
													"var jsonData = pm.response.json();",
													"jsonData.scope = \"ENVIRONMENT\";",
													"pm.environment.set(\"USER_ENV_ROLE\", jsonData);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								},
								{
									"name": "Remove Application permissions from USER Role",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "eb821cca-09eb-4f4b-b944-4375a1ef2b07",
												"exec": [
													"var userRole = pm.environment.get(\"USER_ENV_ROLE\");",
													"userRole.permissions.APPLICATION = [];",
													"pm.environment.set(\"UPDATED_USER_ENV_ROLE\", JSON.stringify(userRole));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{UPDATED_USER_ENV_ROLE}}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c9934164-0441-40e8-a1cc-f45035e1bb06",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6fb5f806-06e7-43e4-a8c6-1ecdb4f88fed",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "GET /applications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8edccbd2-ed9a-40da-98d3-5d78c05344cb",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"hooks\":\"[NEW_SUBSCRIPTION]\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members/:memberId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId",
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs/:logId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0ec20c48-394b-4251-9f82-aaa53f02edd1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "962f56d5-d589-4c44-8e98-6c4a473e4321",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Reset permissions from USER Role",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "0abb01a9-df58-4e98-b6a7-f4e929bbe6b5",
												"exec": [
													"var userRole = pm.environment.get(\"USER_ENV_ROLE\");",
													"userRole.permissions.APPLICATION = [ \"C\", \"R\", \"U\", \"D\"];",
													"pm.environment.set(\"USER_ENV_ROLE\", JSON.stringify(userRole));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{USER_ENV_ROLE}}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fa8c1edb-bec0-413b-bf5b-084dfa9e7069",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a5334854-4052-4429-ad27-529c9c40aaf0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "82b461f0-0957-46aa-959d-4d1677297331",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0d7b8917-88c8-4bcf-b568-3e821e6e93c1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3b4aa399-9e31-48ee-b930-75c72aef038d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application not found",
							"item": [
								{
									"name": "GET /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bfd40757-e4e1-49ba-bb3b-aeea1da479e3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0ebbde5f-884f-4477-a221-88cdcd00a77c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2aa639b3-8e1e-47f7-b284-cef304458121",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "48fe9929-0d35-49ac-9ef3-cf6f9078dabd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "00768166-3058-4639-8edd-87f28309ffc3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c7e149a9-281c-4001-978c-ea7d7fe72cd4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"hooks\": []\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ca9a260e-959a-469c-a6d4-5b1387ac4f29",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b29279ca-fce8-442c-82a6-94a653e500b3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a98680ac-303d-4731-b126-c457ebffd3e1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f0b1af23-0c88-4092-9de9-54db5e9a64c2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0abe0c14-bc73-4da1-952b-a547a051b8d1",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0ecf42b1-84c1-4da2-89c6-d26f156a429a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e012af44-dbf6-4c80-bbed-e7cf1ae52e1c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "933d736d-d57f-40f0-a472-4fd2a9dc06e9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "848c558b-800d-42a1-84c0-ac7d383f71db",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Application not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Application [APPLICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Member not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1b214a9e-ad5c-486b-91fb-46b0417f18c5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0fe2cbfe-f5ef-4464-8dd6-a15a15e1f4eb",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7ff3a358-5842-4242-a46d-f5132f16e24e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "96e64f1a-c299-47dc-8348-00341d096cc5",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "577de680-abc0-4367-bef4-7410015dc2b0",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Member not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"User [MEMBER] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Log not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/logs/:logId - Log not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a8ce6a40-d7e5-4786-baa4-3319864eb3b8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "61776d52-9fc6-4616-b825-5f89659c3a07",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b2be7e4f-d11f-4fe3-aaff-f560531194b2",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Log not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Log [LOG] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0a53cafa-4901-4f52-9a8b-c497bcc0a2d8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0e3d97a3-fbb7-45ee-a2d2-cb1ed129c98a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c5bf239e-81bd-486b-925e-05206e2a249a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "aabb5f98-7fad-4124-b4e6-b77ecb623e28",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "auth",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "Identity provider not found",
							"item": [
								{
									"name": "POST /auth/oauth2/:identity - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4de06740-aec1-475a-a045-e8af5c4fc58f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/auth/oauth2/:identity",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"auth",
												"oauth2",
												":identity"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /auth/oauth2/:identity/_exchange  - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "58162ad5-cd45-4737-8b32-41331fa9a453",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/auth/oauth2/:identity/_exchange",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"auth",
												"oauth2",
												":identity",
												"_exchange"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "b38188d1-586a-429a-8248-881749d25a59",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a504dbb5-36ac-4440-a2c4-753d2dbf1797",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Identity provider not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Identity provider [IDENTITY] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d22734a7-9acc-40e6-a4d8-1730f9e27918",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "49248529-c8f4-49a8-983b-9f1b54132895",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "configuration",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "GET /configuration/identities/:identityProviderId",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "965998e9-8e21-43d3-8bdc-145d695fe279",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/configuration/identities/:identityProviderId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"configuration",
										"identities",
										":identityProviderId"
									],
									"variable": [
										{
											"key": "identityProviderId",
											"value": "IDENTITY_PROVIDER"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "be057c53-7424-4185-9eed-8c3eb3a9b4b2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "67e96191-f4ba-49aa-ae8a-a1e116e08055",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});",
									"pm.test(\"Identity provider not found\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errors[0].message).to.eql(\"Identity provider [IDENTITY_PROVIDER] can not be found.\");",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "pages",
			"item": [
				{
					"name": "401",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an unpublished page",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "ed716138-7276-460d-81d7-8bd15479d197",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "ddde8c31-7bd4-4d19-a3f6-4caa4f6a3572",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_page_id\", jsonData.id);",
													"pm.environment.set(\"created_page_order\", jsonData.order);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Unpublished Page\",\n\t\"type\":\"SWAGGER\",\n\t\"published\":false\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/pages",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal",
												"pages"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Unauthorized to access an unpublished page",
							"item": [
								{
									"name": "GET /pages/:pageId - Unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "01e09508-310c-42a9-9a18-1a8663867cc0",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /pages/:pageId/content - Unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "93e9fa33-9ee3-4f69-b7b0-2b7137bbb6a1",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an exclusion group for page",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6d4ac5d7-0c2a-4df7-b957-6ce58253ff45",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_exclusion_group_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"event_rules\": [],\n\t\"name\": \"excludePortalPage\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"configuration",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish page and add exclusion group",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\": \"Unpublished Page\",\n\t\"excluded_groups\": [\"{{created_exclusion_group_id}}\"],\n\t\"published\": true,\n\t\"order\": {{created_page_order}}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Search user reference to add to exclusion group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6fa583c4-b9e6-4fa0-8cb9-4e8965bfec65",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"user_reference\", jsonData[0].reference);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=application1",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"search",
												"users",
												""
											],
											"query": [
												{
													"key": "q",
													"value": "application1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add user in exlusion group",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[{\n\t\"reference\":\"{{user_reference}}\",\n\t\"roles\":[\n\t\t{\"scope\":\"API\",\"name\":\"USER\"},\n\t\t{\"scope\":\"APPLICATION\",\"name\":\"USER\"}\n\t]\n}]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:groupId/members",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"configuration",
												"groups",
												":groupId",
												"members"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7ece9803-d5ad-4a16-a5bf-2034f2298cd3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "870e5fef-047e-4aa8-8d98-b4c7b244d7c6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User is not allowed to access this page",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not published",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e0f324c1-28be-4a0b-a871-f226def94d70",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /pages/:pageId/content - Page not published",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c260e36e-e0d7-471b-a3db-f4149c16aec8",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f93ec75a-4b1e-4aa1-acc0-b451a3529fa3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6be8afe4-9d49-4c23-b31f-3c7f65f1f3c4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Delete exclusion  group",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:groupId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"configuration",
												"groups",
												":groupId"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete page",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4002dd02-c702-446e-955d-a051d414f91f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c7d447da-56bf-49b6-80d2-ca9527e1dafa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "1b188df3-7148-4e43-813b-ae7a0ecd3982",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "888bda74-1518-4b14-bc78-8b4f161617d8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9d2b6aa5-81c7-4a38-a877-b89f49f455b9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "subscriptions",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "066be249-9157-4a21-99ce-b9ff3d756825",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions"
											]
										},
										"description": "Input must not be null"
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9529fb79-d30b-4fe4-b9c1-b0890592f33f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a37586d5-c969-4450-810c-e2384cf4722f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'keyId' parameter does not correspond to the subscription",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create API for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "df047f16-5881-4403-8c42-7e125a00e3d3",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
															"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription' bad request\",\n\t\"contextPath\":\"/400apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis"
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created API",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "79135287-e37b-492c-8b91-73dfaac8336a",
														"exec": [
															"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
															"createdApi_for_sub_toPublish.lifecycle_state='published';",
															"delete createdApi_for_sub_toPublish.id;",
															"delete createdApi_for_sub_toPublish.state;",
															"delete createdApi_for_sub_toPublish.created_at;",
															"delete createdApi_for_sub_toPublish.updated_at;",
															"delete createdApi_for_sub_toPublish.owner;",
															"delete createdApi_for_sub_toPublish.context_path;",
															"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{createdApi_for_sub_toPublish}}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0f0cee2c-d3d3-4e3b-a484-25fec323aaf9",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "edf7248d-1e2e-4ef2-a550-73b35652d79d",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Application for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "58cb9dae-6bdd-4d4c-b34b-1531022de963",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400ApplicationSub\",\n\t\"description\":\"Application for 'Subscription bad request'\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"applications"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a first Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c28cdda2-455d-4085-8dcd-061ac9b6ebdf",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get subscription key",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "0d2472f3-37f6-460f-819f-642f46a1de85",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"first_sub_api_key\", jsonData[0].key);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/keys",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"keys"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5dfccea1-0f20-4adb-82f4-3985cf248297",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sec_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub_2\",\n\t\"description\": \"another plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish second created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "1e9f0736-23c7-4e99-84ee-6c6cceb09b49",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub2\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "a4ddbf87-dbd3-43bf-ba67-eb5f83563ef6",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sec_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_sec_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test cases -- ",
									"item": [
										{
											"name": "POST /subscriptions/{subscriptionId}/keys/{keyId}/_revoke",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8443fa28-6f15-4ee8-a6f6-dcac8ea5c223",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"pm.test(\"'keyId' parameter does not correspond to the subscription\", function () {",
															"    pm.expect(pm.response.text()).to.include(\"'keyId' parameter does not correspond to the subscription\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"portal",
														"environments",
														"DEFAULT",
														"subscriptions",
														":subscriptionId",
														"keys",
														":keyId",
														"_revoke"
													],
													"variable": [
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														},
														{
															"key": "keyId",
															"value": "{{first_sub_api_key}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Close subscription",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second subscription",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created application",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"applications",
														":applicationId"
													],
													"variable": [
														{
															"key": "applicationId",
															"value": "{{created_application_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close created Plan",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second created Plan",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created API",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"environments",
														"DEFAULT",
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "12528bd2-a413-463a-8736-9f105ed05ce5",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for Forbidden access to 'Subscription'\",\n\t\"contextPath\":\"/403apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "8e3039e2-dfcf-42b3-807a-2ef3b8fd1326",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"delete createdApi_for_sub_toPublish.context_path;",
													"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bd31eeff-4eba-43a3-8ec9-a004cbedb186",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b2ad8f1f-0dbd-4019-98e2-88709fba80f8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1b40178d-aa83-456d-9c0f-8ed3bdb6862b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403ApplicationSub\",\n\t\"description\":\"Application for 'Forbidden access to Subscription'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cb0c9508-a712-40d6-ae6e-371508f767e0",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get subscription key",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8c2128c4-dbfb-470d-b8ec-8405ee30bace",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"first_sub_api_key\", jsonData[0].key);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/keys",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"keys"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "You do not have sufficient rights to access this resource",
							"item": [
								{
									"name": "GET /subscriptions - 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2be36c90-00ea-4c8f-a5b2-a4cad021e5ce",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions?applicationId={{created_application_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										},
										"description": "With an Application Id but without APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "GET /subscriptions - 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "410e5657-4b94-4dde-a291-16ee92fe9137",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions?applicationId={{created_application_for_sub_id}}&apiId={{created_api_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										},
										"description": "With an API Id and an Application Id but without API_SUBSCRIPTION[READ] and APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ff8f5319-3204-41bd-85af-4073e6887a89",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\":\"{{created_application_for_sub_id}}\",\n\t\"plan\":\"{{created_plan_for_sub_id}}\",\n\t\"request\":\"for Subscription scenario\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions"
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[CREATE]"
									},
									"response": []
								},
								{
									"name": "GET /subsciptions/:subscriptionId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8f1c54b-a6aa-42de-892a-18088964b858",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[READ] or APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dc940620-df72-4a25-aa33-3b0df19f8cb0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[DELETE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c5078476-5a64-4ddb-85c0-61eafe84ada7",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6917a09b-9544-47d1-8164-33a1b94dbf89",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "{{first_sub_api_key}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "6d2471da-68bb-4437-8003-680b10fcd2bc",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b0f5a9bb-1870-4573-a257-66d6b203f157",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1de0ffc0-a13e-4ffc-97a4-054e2b59ac75",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription not found'\",\n\t\"contextPath\":\"/404apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "c39141a8-285a-4fc8-9933-bc7fc7f4a1bb",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"delete createdApi_for_sub_toPublish.context_path;",
													"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "25dc224f-0843-465f-bd24-845eafb2f05e",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a8008919-fefa-4685-b83b-243f7e010641",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e583da20-4663-4cf0-9cd9-c27cbe547c4c",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404ApplicationSub\",\n\t\"description\":\"Application for 'Subscription not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9fee3f0e-eb72-4ca7-99c0-162d1d57d1c1",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Subscription not found",
							"item": [
								{
									"name": "GET /subscriptions/:subscriptionId - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "06a958ca-c33a-4448-8071-57177b609f6b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4be29b9a-164d-453f-8ed4-ef2d2dfcf826",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2d50c565-f547-4160-9bfb-078ff4a9a638",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "37434798-10f5-4059-bb72-5a7915c9cde9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "baff2b6c-caa0-4b94-adae-db16cce59cd3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "4be9e5bc-b59e-4b5c-abb4-fe09b31781c6",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Subscription [SUBSCRIPTION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Key not found",
							"item": [
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4f818d25-bf49-46e4-a9bd-6f2ec3312e1f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2369c182-bdfb-4bbb-ad14-4db0ac8c4bb0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f35a9aa4-5aa7-4c07-bbff-87bae5087117",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"No API Key can be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7b97006f-8f26-42d8-9acf-115a2579281a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2d74da4b-85bb-46d5-82fc-d8441b707637",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "tickets",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "POST /tickets",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/tickets",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"tickets"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8b2feb60-a238-4602-a021-087cdf791765",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2506096c-7662-4c34-8019-f8c1e9f09e97",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Input must not be null.\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "users & user",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "User already exists",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create user",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b344a34c-cae4-4d45-8c40-d68a156385c5",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_user_id\", jsonData.id);",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/users",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"users"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test --",
									"item": [
										{
											"name": "POST /users/registration - user already exist",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "88ebb9bb-1802-44a2-896c-50e9de25e139",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"",
															"pm.test(\"Invalid email.\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.errors[0].message).to.eql(\"A user [postman-test@example.com] already exists for organization DEFAULT.\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"portal",
														"environments",
														"DEFAULT",
														"users",
														"registration"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Delete created user",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/users/:userId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"organizations",
														"DEFAULT",
														"users",
														":userId"
													],
													"variable": [
														{
															"key": "userId",
															"value": "{{created_user_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "8a804686-cc04-4f85-a050-a34070ea17d3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "def972b8-732c-41d9-a0e2-5717f394e6e9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "PUT /user - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3abba243-c670-47eb-970c-1bba45b2f2fa",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "password",
													"type": "string"
												},
												{
													"key": "username",
													"value": "user",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/user",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c669bde5-ff5d-4dd0-9b24-ea0a88a2b9c5",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - missing email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f79c1470-1724-404a-ba37-d1f752aa8fe5",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].code).to.eql(\"registerUser.arg0.email\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - invalid email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "26bebf6b-9d00-4c0d-a3c4-38aa20018079",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Value [DUMMY EMAIL] is not a valid email.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"DUMMY EMAIL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3f2372db-2cda-4212-a302-b510a6f97050",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - missing fields",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c7376352-0ffe-433e-b095-5b708f193071",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"4 Missing fields.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors.length).to.eql(4);",
													"    ",
													"    var sortedErrors = jsonData.errors.sort(compare);",
													"    pm.expect(sortedErrors[0].code).to.eql('finalizeRegistration.arg0.firstname');",
													"    pm.expect(sortedErrors[1].code).to.eql('finalizeRegistration.arg0.lastname');",
													"    pm.expect(sortedErrors[2].code).to.eql('finalizeRegistration.arg0.password');",
													"    pm.expect(sortedErrors[3].code).to.eql('finalizeRegistration.arg0.token');",
													"});",
													"",
													"",
													"function compare(a, b) {",
													"    // Use toUpperCase() to ignore character casing",
													"  const titleA = a.code.toUpperCase();",
													"  const titleB = b.code.toUpperCase();",
													"",
													"  let comparison = 0;",
													"  if (titleA > titleB) {",
													"    comparison = 1;",
													"  } else if (titleA < titleB) {",
													"    comparison = -1;",
													"  }",
													"  return comparison;",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/_reset_password - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e24b3d14-627d-4bdb-ab25-d831f64a65af",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/_reset_password",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"_reset_password"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "401",
					"item": [
						{
							"name": "PUT /user - input.id != currentUser.id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f68c22c0-7585-4e8c-9e05-0fe8d1e16644",
										"exec": [
											"pm.test(\"Status code is 401\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											"",
											"pm.test(\"You must be authenticated to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"\",\n\t\"avatar\": \"\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/user",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"user"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Notification not found",
							"item": [
								{
									"name": "DELETE /user/notifications/:notificationId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8d01f10-db12-48a3-8c00-0ba722e65057",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/user/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"user",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c04d637f-b94d-4923-b8f6-42c602196f75",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "41e06fca-23ff-43b7-a19d-8bbaf7eff124",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Notification not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Portal notification [NOTIFICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7105ad82-0ef1-4423-83a5-9213c7b00264",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9163e507-5d47-4fc3-9b2b-acff61e1781d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Registration service not enabled",
							"item": [
								{
									"name": "POST /users/registration",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a548763b-757f-4f7e-914f-3fbc381a36d9",
												"exec": [
													"pm.test(\"Status code is 503\", function () {",
													"    pm.response.to.have.status(503);",
													"});",
													"",
													"pm.test(\"Registration service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"User registration service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"test@example.com\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Enable registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "56ab5335-2892-4a44-b4d5-57184c47df6c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "806bce3e-31ea-420c-93f6-3d6fdc834f93",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "af3b59ff-3cf0-49ea-aa76-2318e617b1a2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0889d324-c93e-486e-90d2-b9deddd74866",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "58654736-4464-4d92-a2a9-7031fb8f03bf",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "adcee0f6-461b-4198-98b8-1b41fce967a7",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "categories",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "Category not found",
							"item": [
								{
									"name": "GET /categories/:categoryId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1f3edba3-a655-4a55-8e6e-ca188c902aef",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/categories/:categoryId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"categories",
												":categoryId"
											],
											"variable": [
												{
													"key": "categoryId",
													"value": "CATEGORY"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /categories/:categoryId/picture",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "96c3f291-e8a2-46d0-b966-91d1df746079",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/categories/:categoryId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"categories",
												":categoryId",
												"picture"
											],
											"variable": [
												{
													"key": "categoryId",
													"value": "CATEGORY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d03b41a3-5f82-4951-90b6-6c30074ec76e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "391f8e88-da67-442b-887d-563c3ce6045d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Category not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Category [CATEGORY] can not be found.\");",
											"});",
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "555c44b1-aed6-4621-921b-25a1d8886da1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "884464a6-15e2-4459-ac7e-1844e7652c74",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "admin",
				"type": "string"
			},
			{
				"key": "username",
				"value": "admin",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "e69a5cee-8b07-48d6-b5b6-fe35d0df432c",
				"type": "text/javascript",
				"exec": [
					"if(!pm.environment.get('X-Xsrf-Token')) {",
					"    pm.sendRequest({",
					"        url: pm.environment.get('GRAVITEEIO_PORTAL_URL') + '/portal/environments/DEFAULT/configuration',",
					"        method: 'GET',",
					"    ",
					"    }, function (err, res) {",
					"        pm.environment.set('X-Xsrf-Token', res.headers.get('X-Xsrf-Token'));",
					"    });",
					"}",
					"",
					"pm.request.headers.add({key: 'X-Xsrf-Token', value: pm.environment.get('X-Xsrf-Token') });"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "fad11d68-95b8-442a-9372-cb794df6a3f0",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}