{
	"info": {
		"_postman_id": "fdd23e01-1d03-4dfa-a56c-7e486b47593d",
		"name": "API Portal : Business Error",
		"description": "This collections contains requests to test business errors (no 401) on the Portal API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "apis",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/_search",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/_search",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												"_search"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7f10826f-9c63-43de-9b17-5aba6d4d41d6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3c456109-a55e-4662-8233-4cc6791d2dab",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create a rating",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_rating_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 title\",\n\t\"comment\":\"400 comment\",\n\t\"rate\": 2\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Rating already exists",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2d117ebe-0595-49ce-baad-2293edba077e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f5af028c-0369-46b5-8a10-39bdf45c3c1d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Rating already exists\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Rating already exists for api [\"+pm.environment.get(\"created_api_id\")+\"] and user [\"+pm.environment.get(\"created_api_owner_id\")+\"].\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created Rating",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/ratings/:ratingId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings",
												":ratingId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "ratingId",
													"value": "{{created_rating_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "523ad814-e489-46d9-8d87-d4073557deac",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ce4a12d5-dc92-4f8a-82a1-8132f90cfc34",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "af01cdfc-61f7-4fd8-ab87-5ff04753d056",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2a1711ae-382e-43f8-ac03-206c4a433ec2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - No permission (User = application1)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													"pm.test(\"Unsufficient rights\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fc2210a1-74ff-4beb-905f-362079822369",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "41027246-589a-4168-bd53-6c96ae95a300",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "523ad814-e489-46d9-8d87-d4073557deac",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ce4a12d5-dc92-4f8a-82a1-8132f90cfc34",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not found",
							"item": [
								{
									"name": "GET /apis/:apiId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "04387e67-11a5-495f-8da0-724b396e697a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/metrics - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "04387e67-11a5-495f-8da0-724b396e697a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/metrics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"metrics"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c8725932-131b-4f79-87c9-e13318ec8f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c8725932-131b-4f79-87c9-e13318ec8f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3e832632-3266-4df5-9a4f-0689ba354138",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8b6eac7c-0352-489c-8a8e-6b0c06e538a2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/:apiId/rating - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"404 title\",\n\t\"comment\":\"404 comment\",\n\t\"value\": 4\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7f10826f-9c63-43de-9b17-5aba6d4d41d6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3c456109-a55e-4662-8233-4cc6791d2dab",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [API] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /apis/:apiId/pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c8725932-131b-4f79-87c9-e13318ec8f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "b62db256-7f0e-4e31-8fb1-1d35bab83d68",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2d117ebe-0595-49ce-baad-2293edba077e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f5af028c-0369-46b5-8a10-39bdf45c3c1d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not visible for current user - test with a user != admin",
							"item": [
								{
									"name": "GET /apis/:apiId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "04387e67-11a5-495f-8da0-724b396e697a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c8725932-131b-4f79-87c9-e13318ec8f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c8725932-131b-4f79-87c9-e13318ec8f23",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3e832632-3266-4df5-9a4f-0689ba354138",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8b6eac7c-0352-489c-8a8e-6b0c06e538a2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "21e27540-7273-423e-83df-efb67a855696",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f476f497-4a70-4ec8-a1ec-2886bdad15bb",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [\"+pm.environment.get(\"created_api_id\")+\"] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "523ad814-e489-46d9-8d87-d4073557deac",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ce4a12d5-dc92-4f8a-82a1-8132f90cfc34",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "af01cdfc-61f7-4fd8-ab87-5ff04753d056",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2a1711ae-382e-43f8-ac03-206c4a433ec2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_id\", jsonData.id);",
													"pm.environment.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.environment.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"pm.environment.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Rating service is disabled",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													"pm.test(\"Rating service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"API rating service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fc2210a1-74ff-4beb-905f-362079822369",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "41027246-589a-4168-bd53-6c96ae95a300",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 503\", function () {",
											"    pm.response.to.have.status(503);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "523ad814-e489-46d9-8d87-d4073557deac",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ce4a12d5-dc92-4f8a-82a1-8132f90cfc34",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f0839da4-c791-44cf-86e9-40221db28096",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "de4e447e-1eba-4769-8a16-3d28e5a48ec7",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "applications",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Enable client registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\": {\n\t\t\"registration\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create a notification config",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ed9991cb-a0fb-43d6-abc9-40e707ce8dc4",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_generic_config\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"400GenericConfig\",\n\t\"config_type\":\"GENERIC\",\n\t\"referenceId\":\"DEFAULT\",\n\t\"notifier\":\"default-email\",\n\t\"hooks\":[],\n\t\"referenceType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/notificationsettings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"notificationsettings"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "POST /applications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8877b70b-b31a-450f-9bf3-0475849c5bb9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/notifications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications/:notificationId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "notificationId",
													"value": "{{created_generic_config}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "96f3e458-352e-41dc-a030-8a3460b0e914",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6e913c1b-4c94-47c4-9a5b-e7d79b2c1f3b",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'applicationId' is not the same that the application in payload",
							"item": [
								{
									"name": "PUT /applications/:applicationId - 'applicationId' is not the same that the application in payload",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "844f2ec9-e171-4228-9eda-aaefc77cef04",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0bc529e4-eb44-4496-99dc-b90bd3cea860",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"'applicationId' is not the same that the application in payload\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"'applicationId' is not the same that the application in payload\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Client secret for application [404Application] can not be renew.",
							"item": [
								{
									"name": "POST /applications/:applicationId/_renew_secret - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "844f2ec9-e171-4228-9eda-aaefc77cef04",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0bc529e4-eb44-4496-99dc-b90bd3cea860",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Client secret for application [404Application] can not be renew.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Client secret for application [404Application] can not be renew.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "log query param validation",
							"item": [
								{
									"name": "POST /applications/:applicationId/logs/_export - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export?from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export?to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export?from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - order not valid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"'order' query parameter value must be 'ASC' or 'DESC'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'order' query parameter value must be 'ASC' or 'DESC'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export?from=0&to=1&order=ORDER",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "order",
													"value": "ORDER"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2e42d120-1227-4259-bee6-4891eb3111aa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8ebe47ba-3dad-4931-a386-d3e0d4a5a16d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "analytics query param validation",
							"item": [
								{
									"name": "GET /applications/:applicationId/analytics - no type",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics   - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GETT /applications/:applicationId/analytics - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval invalid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=100",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "100"
												},
												{
													"key": null,
													"value": null
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - field is missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													"pm.test(\"'field' query parameter is required for 'group_by' request\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'field' query parameter is required for 'group_by' request\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=1000",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "1000"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2e42d120-1227-4259-bee6-4891eb3111aa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8ebe47ba-3dad-4931-a386-d3e0d4a5a16d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete notification settings",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/notificationsettings/:notificationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"notificationsettings",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "{{created_generic_config}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2c576dbb-9f1b-4fe8-9b07-e2a5200d6097",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "5aa73670-55f7-4709-9f7e-700e47a8aa90",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "9348f51e-7565-48fa-9a88-6c3328c14a79",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c89fe152-7664-42a7-8ea3-383372363710",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403Application\",\n\t\"description\":\"Application for Forbidden Access\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create DUMMY Portal Role",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"scope\":\"PORTAL\",\n\t\"permissions\":{\n\t\t\"API_HEADER\":[],\n\t\t\"APPLICATION\":[],\n\t\t\"CLIENT_REGISTRATION_PROVIDER\":[],\n\t\t\"DOCUMENTATION\":[],\n\t\t\"IDENTITY_PROVIDER\":[],\n\t\t\"METADATA\":[],\n\t\t\"SETTINGS\":[],\n\t\t\"TOP_APIS\":[],\n\t\t\"VIEW\":[]\n\t\t\n\t},\n\t\"name\":\"DUMMY\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/PORTAL/roles",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"PORTAL",
												"roles"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create DUMMY Management Role",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"scope\":\"MANAGEMENT\",\n\t\"permissions\":{\n\t\t\"ALERT\":[],\n\t\t\"API\":[],\n\t\t\"APPLICATION\":[],\n\t\t\"AUDIT\":[],\n\t\t\"DICTIONARY\":[],\n\t\t\"ENTRYPOINT\":[],\n\t\t\"GROUP\":[],\n\t\t\"INSTANCE\":[],\n\t\t\"MESSAGE\":[],\n\t\t\"NOTIFICATION\":[],\n\t\t\"PLATFORM\":[],\n\t\t\"ROLE\":[],\n\t\t\"SETTINGS\":[],\n\t\t\"TAG\":[],\n\t\t\"TENANT\":[],\n\t\t\"USER\":[]\n\t},\n\t\"name\":\"DUMMY\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/MANAGEMENT/roles",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"MANAGEMENT",
												"roles"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get user id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a8fba918-9ec5-4008-a5e0-085978cfa48b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"current_user_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "password",
													"type": "string"
												},
												{
													"key": "username",
													"value": "user",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/user",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add DUMMY Portal Role to user",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"{{current_user_id}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/PORTAL/roles/DUMMY/users",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"PORTAL",
												"roles",
												"DUMMY",
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add DUMMY Management Role to user",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"{{current_user_id}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/MANAGEMENT/roles/DUMMY/users",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"MANAGEMENT",
												"roles",
												"DUMMY",
												"users"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "GET /applications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/notifications - GenericConfig",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"GENERIC\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/notifications - PortalConfig",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notification/:notificationId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/notification/:notificationId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members/:memberId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId",
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs/:logId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "3e459d05-d941-427c-9877-ccba72631d78",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "21202725-33f2-4818-bff6-2323839cdab0",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Add PORTAL[USER] Role to user",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"{{current_user_id}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/PORTAL/roles/USER/users",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"PORTAL",
												"roles",
												"USER",
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Add MANAGEMENT[USER] Role to user Copy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"{{current_user_id}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/MANAGEMENT/roles/USER/users",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"MANAGEMENT",
												"roles",
												"USER",
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete DUMMY Portal role",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/PORTAL/roles/DUMMY",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"PORTAL",
												"roles",
												"DUMMY"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete DUMMY Management role",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/rolescopes/MANAGEMENT/roles/DUMMY",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"rolescopes",
												"MANAGEMENT",
												"roles",
												"DUMMY"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2c576dbb-9f1b-4fe8-9b07-e2a5200d6097",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "5aa73670-55f7-4709-9f7e-700e47a8aa90",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e13448e4-e2a1-4af5-9b93-315d08f47bc8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23b38521-2215-4c48-a319-ee3bfb9e6524",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application not found",
							"item": [
								{
									"name": "GET /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8877b70b-b31a-450f-9bf3-0475849c5bb9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8a8924bf-29d6-4d29-861a-d55aa35287e8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"GENERIC\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"configType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "96f3e458-352e-41dc-a030-8a3460b0e914",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6e913c1b-4c94-47c4-9a5b-e7d79b2c1f3b",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Application not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Application [APPLICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Notification not found",
							"item": [
								{
									"name": "PUT /applications/:applicationId/notifications/:notificationId - Notification not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"NOTIFICATION\",\n\t\"name\":\"SUB\",\n\t\"notifier\":\"SUB\",\n\t\"configType\":\"GENERIC\",\n\t\"reference_id\": \"{{created_application_id}}\",\n\t\"reference_type\": \"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/notifications/:notificationId - Notification not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													";"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9fd56dca-bb7d-4542-898d-213713dd4554",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3d51d03f-9a17-4098-b571-46f22cf8665e",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Notification not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"No NotificationCofing can be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Member not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "ad369410-a60a-4ce7-86f3-892160e1921b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "05775cd4-7596-425b-b146-99535e37bd5b",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Member not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"User [MEMBER] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Log not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/logs/:logId - Log not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31d531f3-c497-4cb7-935f-2ffe74323492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5d4654fd-f2ad-4b2e-9714-e3c357f6f047",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6b250f32-a229-4581-b1b5-cf31f0a5b7cd",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Log not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Log [LOG] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2c576dbb-9f1b-4fe8-9b07-e2a5200d6097",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "5aa73670-55f7-4709-9f7e-700e47a8aa90",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2b0c61b7-708a-499c-9f93-89567afc4129",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "73a268e8-b029-4e73-b59c-275d2063ebb8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "auth",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "Identity provider not found",
							"item": [
								{
									"name": "POST /auth/oauth2/:identity - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/auth/oauth2/:identity",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"auth",
												"oauth2",
												":identity"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /auth/oauth2/:identity/_exchange  - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/auth/oauth2/:identity/_exchange",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"auth",
												"oauth2",
												":identity",
												"_exchange"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d47bbc07-1175-44d6-a4bb-0276eaa4043c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "021d8381-52a9-46a9-ba27-8a1702e0d739",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Identity provider not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Identity provider [IDENTITY] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "44cb3a50-14fc-4a07-a52e-64ffff430823",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e247e777-0dfe-4514-9987-8be623d0bade",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "pages",
			"item": [
				{
					"name": "401",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an unpublished page",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "ff18cf91-7e47-4882-be31-edafaf614683",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "1d4ef9b0-67d5-43da-a44f-ca9d3472bc30",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_page_id\", jsonData.id);",
													"pm.environment.set(\"created_page_order\", jsonData.order);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Unpublished Page\",\n\t\"type\":\"SWAGGER\",\n\t\"published\":false\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal/pages",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal",
												"pages"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Unauthorized to access an unpublished page",
							"item": [
								{
									"name": "GET /pages/:pageId - Unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an exclusion group for page",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "69214d53-2079-4eac-a5fc-ab84af443aa9",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_exclusion_group_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"event_rules\": [],\n\t\"name\": \"excludePortalPage\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/groups",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish page and add exclusion group",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\": \"Unpublished Page\",\n\t\"excluded_groups\": [\"{{created_exclusion_group_id}}\"],\n\t\"published\": true,\n\t\"order\": {{created_page_order}}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Search user reference to add to exclusion group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "37872782-7483-4d2f-ab3c-9ed0c99b9e5c",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"user_reference\", jsonData[0].reference);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/search/users/?q=application1",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"search",
												"users",
												""
											],
											"query": [
												{
													"key": "q",
													"value": "application1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add user in exlusion group",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[{\n\t\"reference\":\"{{user_reference}}\",\n\t\"roles\":[\n\t\t{\"scope\":\"API\",\"name\":\"USER\"},\n\t\t{\"scope\":\"APPLICATION\",\"name\":\"USER\"}\n\t]\n}]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/groups/:groupId/members",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"groups",
												":groupId",
												"members"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c9430c1a-3588-4c87-91c1-19ae61348392",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ea10df51-ca08-47ee-90d2-5c13475def52",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User is not allowed to access this page",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not published",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "cb6c165f-9c6b-4957-8bc5-7d8ab3012569",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f9b65491-0dc1-4095-88c8-f39ade09b1ad",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Delete exclusion  group",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/configuration/groups/:groupId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"configuration",
												"groups",
												":groupId"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete page",
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9179df9e-c50a-4a73-9371-27577e662d04",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0edcab96-14e9-4ace-afee-695af68016ca",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "3649027f-2eb3-4663-838e-bf4a9cee2361",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2dab4c47-1b80-4327-9fd4-d4fe7a77a9c1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "subscriptions",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "GET /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a5578519-0b09-46b6-8510-a6ddc8d18ab2",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"At least an api or an application must be provided.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"At least an api or an application must be provided.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											]
										},
										"description": "At least an api or an application must be provided."
									},
									"response": []
								},
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "45b0e036-dad5-44b9-ade4-28c7e1e2bc0d",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											]
										},
										"description": "Input must not be null"
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4d0b4849-7f4c-4383-b5c9-830f5ea36085",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7645b38a-118f-4c57-955f-7b5a77814093",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'keyId' parameter does not correspond to the subscription",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create API for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "09b4c96b-4e00-43b3-b727-e6739af6ae6e",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
															"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription' bad request\",\n\t\"contextPath\":\"/400apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis"
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created API",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
														"exec": [
															"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
															"createdApi_for_sub_toPublish.lifecycle_state='published';",
															"delete createdApi_for_sub_toPublish.id;",
															"delete createdApi_for_sub_toPublish.state;",
															"delete createdApi_for_sub_toPublish.created_at;",
															"delete createdApi_for_sub_toPublish.updated_at;",
															"delete createdApi_for_sub_toPublish.owner;",
															"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{createdApi_for_sub_toPublish}}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Application for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400ApplicationSub\",\n\t\"description\":\"Application for 'Subscription bad request'\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"applications"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a first Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e1de8766-ba7d-48e3-b320-fb4ce6d52e46",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get subscription key",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "69dbc838-ab5b-4d35-933a-f7acfa9b0a2e",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"first_sub_api_key\", jsonData[0].key);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/keys",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"keys"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sec_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub_2\",\n\t\"description\": \"another plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish second created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub2\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e1de8766-ba7d-48e3-b320-fb4ce6d52e46",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_sec_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_sec_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test cases -- ",
									"item": [
										{
											"name": "POST /subscriptions/{subscriptionId}/keys/{keyId}/_revoke",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "244f5ecb-b748-4373-9ad0-4715cdd27d0a",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"pm.test(\"'keyId' parameter does not correspond to the subscription\", function () {",
															"    pm.expect(pm.response.text()).to.include(\"'keyId' parameter does not correspond to the subscription\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"portal",
														"DEFAULT",
														"subscriptions",
														":subscriptionId",
														"keys",
														":keyId",
														"_revoke"
													],
													"variable": [
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														},
														{
															"key": "keyId",
															"value": "{{first_sub_api_key}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Close subscription",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second subscription",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created application",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"applications",
														":applicationId"
													],
													"variable": [
														{
															"key": "applicationId",
															"value": "{{created_application_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close created Plan",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second created Plan",
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created API",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09b4c96b-4e00-43b3-b727-e6739af6ae6e",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for Forbidden access to 'Subscription'\",\n\t\"contextPath\":\"/403apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403ApplicationSub\",\n\t\"description\":\"Application for 'Forbidden access to Subscription'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e1de8766-ba7d-48e3-b320-fb4ce6d52e46",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get subscription key",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "69dbc838-ab5b-4d35-933a-f7acfa9b0a2e",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"first_sub_api_key\", jsonData[0].key);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/keys",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"keys"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "You do not have sufficient rights to access this resource",
							"item": [
								{
									"name": "GET /subscriptions - 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a5578519-0b09-46b6-8510-a6ddc8d18ab2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions?apiId={{created_api_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											],
											"query": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										},
										"description": "With an API id but without API_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "GET /subscriptions - 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a5578519-0b09-46b6-8510-a6ddc8d18ab2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions?applicationId={{created_application_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										},
										"description": "With an Application Id but without APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "GET /subscriptions - 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a5578519-0b09-46b6-8510-a6ddc8d18ab2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions?applicationId={{created_application_for_sub_id}}&apiId={{created_api_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										},
										"description": "With an API Id and an Application Id but without API_SUBSCRIPTION[READ] and APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e1de8766-ba7d-48e3-b320-fb4ce6d52e46",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\":\"{{created_application_for_sub_id}}\",\n\t\"plan\":\"{{created_plan_for_sub_id}}\",\n\t\"request\":\"for Subscription scenario\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions"
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[CREATE]"
									},
									"response": []
								},
								{
									"name": "GET /subsciptions/:subscriptionId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "646ce264-50d0-4c5d-a07e-709d3095c945",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[READ] or APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[DELETE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "{{first_sub_api_key}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "aabaafe2-977f-4a38-9b93-7b83dd48bd36",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "03681d25-a5fd-434a-a76e-33ced3e3f302",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09b4c96b-4e00-43b3-b727-e6739af6ae6e",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.environment.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription not found'\",\n\t\"contextPath\":\"/404apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "79cbaece-c9fc-4d5d-9b3f-30850c1ee42e",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.environment.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"pm.environment.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5b159b0d-08e8-4a1a-b6df-2a87a2af605c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4bb67939-8bf1-47b3-ae86-d4b4bb4b343b",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404ApplicationSub\",\n\t\"description\":\"Application for 'Subscription not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e1de8766-ba7d-48e3-b320-fb4ce6d52e46",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.environment.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Subscription not found",
							"item": [
								{
									"name": "GET /subscriptions/:subscriptionId - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8877b70b-b31a-450f-9bf3-0475849c5bb9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "71d4dfee-80d6-4df2-b23b-543e6ab5dee9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "aa618fce-577b-4543-a294-6197d08baad1",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Subscription [SUBSCRIPTION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Key not found",
							"item": [
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2fd9acc6-1c33-4f07-aa8f-2376b68dc008",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f0539cf2-3b49-4d90-98fa-e0b53141b213",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7934745f-b148-4896-89de-d4d26be5ea66",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"No API Key can be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "80e32e37-fcdb-4023-a1de-aba9457c44c1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "c8d42abc-61ec-42c6-a45b-37fed88ddc40",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "tickets",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "POST /tickets",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/tickets",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"DEFAULT",
										"tickets"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "540730f6-b2b5-4820-8476-b093e5f07434",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "d1cc1739-64d0-4fb2-8a49-c1b8a84c165e",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Input must not be null.\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "users & user",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "User already exists",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create user",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "b688095b-37f2-4335-8d4e-5f5cd39c7f2e",
														"exec": [
															"var jsonData = pm.response.json();",
															"pm.environment.set(\"created_user_id\", jsonData.id);",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/users",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"users"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test --",
									"item": [
										{
											"name": "POST /users/registration - user already exist",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"",
															"pm.test(\"Invalid email.\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.errors[0].message).to.eql(\"A user [postman-test@example.com] already exists for environment DEFAULT.\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"portal",
														"DEFAULT",
														"users",
														"registration"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Delete created user",
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/users/:userId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"management",
														"DEFAULT",
														"users",
														":userId"
													],
													"variable": [
														{
															"key": "userId",
															"value": "{{created_user_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "77738f5b-fd12-4033-98f5-1cc034da136b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b7d3f8e6-ff38-453b-8435-2835813ccf01",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "PUT /user - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "985561b7-2543-4d18-b53a-3ab9b7a200eb",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "password",
													"type": "string"
												},
												{
													"key": "username",
													"value": "user",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/user",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - missing email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].code).to.eql(\"registerUser.arg0.email\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - invalid email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Value [DUMMY EMAIL] is not a valid email.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"DUMMY EMAIL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - missing fields",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"4 Missing fields.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors.length).to.eql(4);",
													"    ",
													"    var sortedErrors = jsonData.errors.sort(compare);",
													"    pm.expect(sortedErrors[0].code).to.eql('finalizeRegistration.arg0.firstname');",
													"    pm.expect(sortedErrors[1].code).to.eql('finalizeRegistration.arg0.lastname');",
													"    pm.expect(sortedErrors[2].code).to.eql('finalizeRegistration.arg0.password');",
													"    pm.expect(sortedErrors[3].code).to.eql('finalizeRegistration.arg0.token');",
													"});",
													"",
													"",
													"function compare(a, b) {",
													"    // Use toUpperCase() to ignore character casing",
													"  const titleA = a.code.toUpperCase();",
													"  const titleB = b.code.toUpperCase();",
													"",
													"  let comparison = 0;",
													"  if (titleA > titleB) {",
													"    comparison = 1;",
													"  } else if (titleA < titleB) {",
													"    comparison = -1;",
													"  }",
													"  return comparison;",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "401",
					"item": [
						{
							"name": "PUT /user - input.id != currentUser.id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eee7153f-9684-40b0-a219-929ebd88dfdb",
										"exec": [
											"pm.test(\"Status code is 401\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											"",
											"pm.test(\"You must be authenticated to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/user",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"DEFAULT",
										"user"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "GET /users - User = user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ce2ad4eb-e6ab-416f-a4ec-77459322df67",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"DEFAULT",
										"users"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Registration service not enabled",
							"item": [
								{
									"name": "POST /users/registration",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													"pm.test(\"Status code is 503\", function () {",
													"    pm.response.to.have.status(503);",
													"});",
													"",
													"pm.test(\"Registration service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"User registration service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"test@example.com\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"users",
												"registration"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Enable registration service",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/DEFAULT/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"DEFAULT",
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "634d4e69-1a6b-480a-a9ec-0322701897a8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ce1a095d-4b9d-467b-acad-284f681765e7",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "9635b8dd-5fee-4be1-bce9-4911cce37be2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "85d9b6b7-ab1a-4cdf-a27b-07223864b84f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Notification not found",
							"item": [
								{
									"name": "DELETE /user/notifications/:notificationId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5ddbd8bd-5493-4791-8a3c-58e22e4efea8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/user/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"user",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dfad55b0-ab87-4f96-b66b-89a220d9269c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "5f6dbbc8-d021-4d5d-af6d-a95354ceb7f7",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Notification not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Portal notification [NOTIFICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "048d1340-680c-48e7-af14-7c4e3b47de94",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2d518405-f909-4133-9c61-a35390249559",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "62bba32d-b158-44ab-af72-b2aef02f8968",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6cf61ecd-0171-4153-9508-5c8ddab0b298",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "views",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "View not found",
							"item": [
								{
									"name": "GET /views/:viewId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/views/:viewId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"views",
												":viewId"
											],
											"variable": [
												{
													"key": "viewId",
													"value": "VIEW"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /views/:viewId/picture",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "34222d3f-ddb4-4bb6-87c8-bbb676cbf33e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/DEFAULT/views/:viewId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"DEFAULT",
												"views",
												":viewId",
												"picture"
											],
											"variable": [
												{
													"key": "viewId",
													"value": "VIEW"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5c1338ef-349a-4e98-a144-f827a73f6138",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "aeac0c23-58f8-42a4-8011-129f17077eb1",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"View not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"View [VIEW] can not be found.\");",
											"});",
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5dddd60c-9db1-4b8e-beeb-959ee50491e0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "71b28912-9904-4aa8-be7c-412b3ea997f5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "admin",
				"type": "string"
			},
			{
				"key": "username",
				"value": "admin",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "34cc3a2f-d3af-47c3-9c54-88a5abd558fa",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "915ae064-311e-47b3-9310-21b0529c5789",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}